<!DOCTYPE html public "for-legacy-parsers">
<html>
    <head>
        <title>Parser and Image Generator for EBNF</title>
        <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    </head>
    <body>
        <header>
            <h1>Das Weltraumschaf</h1>
            <h2>The music making space animal</h2>
        </header>

        <strong>2011-10-02</strong>

        <article>
          <h2 id="parser-and-image-generator-for-ebnf">Parser and Image Generator for EBNF</h2>

<p>Some days ago I searched for a tool which can visualizes <a href="http://en.wikipedia.org/wiki/Extended_Backus%E2%80%93Naur_Form">EBNF</a> grammars. I don’t care what kind of visualization: Desktop tool or a command line tool which generates images, PDF or such. The only tool I found was a Windows tool. That didn’t satisfy me because I don’t want to start my VM each time for only checking my grammar visually. But I found some moldy PHP code from Vincent Tscherter <a href="http://karmin.ch/ebnf/index">here</a> which generates PNG or XML files from an EBNF grammar. That’s what I wanted: A visual of a grammar. But his implementation has some weakness: It does not support the whole feature set of EBNF (concatenation, comment, special sequence and exceptions) and more important, the error reporting sucks. If you have a syntax error the lexer/parser function reports the position of the error as an index in the input stream. No line! No column! It’s quite hard to go through a large grammar file to find character 10934 where the syntax error is. The original implementation does not have the possibility to extend it in an easy way to track the line number of a scanned lexical token. Not to mention the column. So I decided to port the whole code to PHP 5.3 and refactor it to standard LL(1) Recursive-Descent Lexer/Parser pattern. (For more information about these patterns I recommend the book „Language Implementation Patterns“ from Terence Parr, the inventor of <a href="http://www.antlr.org/">ANTLR</a>.) I also extended the lexer that way that it tracks the actual line and column of the scanned token for better error reporting on syntactic errors. This position information is part of the scanned token to improve the error reporting on semantic errors in the parser. You can find the code, of course, on <a href="https://github.com/Weltraumschaf/ebnf">GitHub</a>. It offers you a class library for rendering EBNF grammars to GIF, JPG, PNG and XML and also a command line tool.</p>


        </article>
    </body>
</html>